{"version":3,"file":"index.umd.js","sources":["../src/form.js","../src/link.js","../src/remember.js","../src/app.js"],"sourcesContent":["import Vue from 'vue'\nimport cloneDeep from 'lodash.clonedeep'\nimport { Inertia } from '@inertiajs/inertia'\n\nexport default function(...args) {\n  const rememberKey = typeof args[0] === 'string' ? args[0] : null\n  const data = (typeof args[0] === 'string' ? args[1] : args[0]) || {}\n  const defaults = cloneDeep(data)\n  const restored = rememberKey ? Inertia.restore(rememberKey) : null\n  let cancelToken = null\n  let recentlySuccessfulTimeoutId = null\n  let transform = data => data\n\n  const form = Vue.observable({\n    ...restored ? restored.data : data,\n    errors: restored ? restored.errors : {},\n    hasErrors: false,\n    processing: false,\n    progress: null,\n    wasSuccessful: false,\n    recentlySuccessful: false,\n    data() {\n      return Object\n        .keys(data)\n        .reduce((carry, key) => {\n          carry[key] = this[key]\n          return carry\n        }, {})\n    },\n    transform(callback) {\n      transform = callback\n\n      return this\n    },\n    reset(...fields) {\n      let clonedDefaults = cloneDeep(defaults)\n      if (fields.length === 0) {\n        Object.assign(this, clonedDefaults)\n      } else {\n        Object.assign(\n          this,\n          Object\n            .keys(clonedDefaults)\n            .filter(key => fields.includes(key))\n            .reduce((carry, key) => {\n              carry[key] = clonedDefaults[key]\n              return carry\n            }, {}),\n        )\n      }\n\n      return this\n    },\n    clearErrors(...fields) {\n      this.errors = Object\n        .keys(this.errors)\n        .reduce((carry, field) => ({\n          ...carry,\n          ...(fields.length > 0 && !fields.includes(field) ? { [field] : this.errors[field] } : {}),\n        }), {})\n\n      this.hasErrors = Object.keys(this.errors).length > 0\n\n      return this\n    },\n    submit(method, url, options = {}) {\n      const data = transform(this.data())\n      const _options = {\n        ...options,\n        onCancelToken: (token) => {\n          cancelToken = token\n\n          if (options.cancelToken) {\n            return options.cancelToken(token)\n          }\n        },\n        onBefore: visit => {\n          this.wasSuccessful = false\n          this.recentlySuccessful = false\n          clearTimeout(recentlySuccessfulTimeoutId)\n\n          if (options.onBefore) {\n            return options.onBefore(visit)\n          }\n        },\n        onStart: visit => {\n          this.processing = true\n\n          if (options.onStart) {\n            return options.onStart(visit)\n          }\n        },\n        onProgress: event => {\n          this.progress = event\n\n          if (options.onProgress) {\n            return options.onProgress(event)\n          }\n        },\n        onBeforeRender: page => {\n          cancelToken = null\n          this.processing = false\n          this.progress = null\n          this.errors = page.resolvedErrors\n          this.hasErrors = Object.keys(this.errors).length > 0\n          this.wasSuccessful = !this.hasErrors\n          this.recentlySuccessful = !this.hasErrors\n          recentlySuccessfulTimeoutId = setTimeout(() => this.recentlySuccessful = false, 2000)\n\n          if (options.onBeforeRender) {\n            return options.onBeforeRender(page)\n          }\n        },\n        onCancel: () => {\n          cancelToken = null\n          this.processing = false\n          this.progress = null\n\n          if (options.onCancel) {\n            return options.onCancel()\n          }\n        },\n      }\n\n      if (method === 'delete') {\n        Inertia.delete(url, { ..._options, data  })\n      } else {\n        Inertia[method](url, data, _options)\n      }\n    },\n    get(url, options) {\n      this.submit('get', url, options)\n    },\n    post(url, options) {\n      this.submit('post', url, options)\n    },\n    put(url, options) {\n      this.submit('put', url, options)\n    },\n    patch(url, options) {\n      this.submit('patch', url, options)\n    },\n    delete(url, options) {\n      this.submit('delete', url, options)\n    },\n    cancel() {\n      if (cancelToken) {\n        cancelToken.cancel()\n      }\n    },\n    __rememberable: rememberKey === null,\n    __remember() {\n      return { data: this.data(), errors: this.errors }\n    },\n    __restore(restored) {\n      Object.assign(this, restored.data)\n      Object.assign(this.errors, restored.errors)\n      this.hasErrors = Object.keys(this.errors).length > 0\n    },\n  })\n\n  if (rememberKey) {\n    new Vue({\n      created() {\n        this.$watch(() => form, newValue => {\n          Inertia.remember(newValue.__remember(), rememberKey)\n        }, { immediate: true, deep: true })\n      },\n    })\n  }\n\n  return form\n}\n","import { hrefToUrl, Inertia, mergeDataIntoQueryString, shouldIntercept } from '@inertiajs/inertia'\n\nexport default {\n  functional: true,\n  props: {\n    as: {\n      type: String,\n      default: 'a',\n    },\n    data: {\n      type: Object,\n      default: () => ({}),\n    },\n    href: {\n      type: String,\n      required: true,\n    },\n    method: {\n      type: String,\n      default: 'get',\n    },\n    replace: {\n      type: Boolean,\n      default: false,\n    },\n    preserveScroll: {\n      type: Boolean,\n      default: false,\n    },\n    preserveState: {\n      type: Boolean,\n      default: null,\n    },\n    only: {\n      type: Array,\n      default: () => [],\n    },\n    headers: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  render(h, { props, data, children }) {\n    data.on = {\n      click: () => ({}),\n      cancelToken: () => ({}),\n      start: () => ({}),\n      progress: () => ({}),\n      finish: () => ({}),\n      cancel: () => ({}),\n      success: () => ({}),\n      error: () => ({}),\n      ...(data.on || {}),\n    }\n\n    const as = props.as.toLowerCase()\n    const method = props.method.toLowerCase()\n    const [url, propsData] = mergeDataIntoQueryString(method, hrefToUrl(props.href), props.data)\n\n    if (as === 'a' && method !== 'get') {\n      console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes \"Open Link in New Tab/Window\" accessibility issues.\\n\\nPlease specify a more appropriate element using the \"as\" attribute. For example:\\n\\n<inertia-link href=\"${url.href}\" method=\"${method}\" as=\"button\">...</inertia-link>`)\n    }\n\n    return h(props.as, {\n      ...data,\n      attrs: {\n        ...data.attrs,\n        ...as === 'a' ? { href: url.href } : {},\n      },\n      on: {\n        ...data.on,\n        click: event => {\n          data.on.click(event)\n\n          if (shouldIntercept(event)) {\n            event.preventDefault()\n\n            Inertia.visit(url.href, {\n              data: propsData,\n              method: method,\n              replace: props.replace,\n              preserveScroll: props.preserveScroll,\n              preserveState: props.preserveState ?? (method !== 'get'),\n              only: props.only,\n              headers: props.headers,\n              onCancelToken: data.on.cancelToken,\n              onBefore: data.on.before,\n              onStart: data.on.start,\n              onProgress: data.on.progress,\n              onFinish: data.on.finish,\n              onCancel: data.on.cancel,\n              onSuccess: data.on.success,\n              onError: data.on.error,\n            })\n          }\n        },\n      },\n    }, children)\n  },\n}\n","import { Inertia } from '@inertiajs/inertia'\n\nexport default {\n  created() {\n    if (!this.$options.remember) {\n      return\n    }\n\n    if (Array.isArray(this.$options.remember)) {\n      this.$options.remember = { data: this.$options.remember }\n    }\n\n    if (typeof this.$options.remember === 'string') {\n      this.$options.remember = { data: [this.$options.remember] }\n    }\n\n    if (typeof this.$options.remember.data === 'string') {\n      this.$options.remember = { data: [this.$options.remember.data] }\n    }\n\n    const rememberKey = this.$options.remember.key instanceof Function\n      ? this.$options.remember.key.call(this)\n      : this.$options.remember.key\n\n    const restored = Inertia.restore(rememberKey)\n\n    const rememberable = this.$options.remember.data.filter(key => {\n      return !(typeof this[key] === 'object' && this[key] !== null && this[key].__rememberable === false)\n    })\n\n    rememberable.forEach(key => {\n      const hasCallacks = typeof this[key].__remember === 'function' && typeof this[key].__restore === 'function'\n\n      if (this[key] !== undefined && restored !== undefined && restored[key] !== undefined) {\n        hasCallacks ? this[key].__restore(restored[key]) : (this[key] = restored[key])\n      }\n\n      this.$watch(key, () => {\n        Inertia.remember(\n          rememberable.reduce((data, key) => ({\n            ...data,\n            [key]: hasCallacks ? this[key].__remember(): this[key],\n          }), {}),\n          rememberKey,\n        )\n      }, { immediate: true, deep: true })\n    })\n  },\n}\n","import form from './form'\nimport link from './link'\nimport remember from './remember'\nimport { Inertia } from '@inertiajs/inertia'\n\nlet app = {}\n\nexport default {\n  name: 'Inertia',\n  props: {\n    initialPage: {\n      type: Object,\n      required: true,\n    },\n    resolveComponent: {\n      type: Function,\n      required: true,\n    },\n    resolveErrors: {\n      type: Function,\n      required: false,\n    },\n    transformProps: {\n      type: Function,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      component: null,\n      page: {},\n      key: null,\n    }\n  },\n  created() {\n    app = this\n    Inertia.init({\n      initialPage: this.initialPage,\n      resolveComponent: this.resolveComponent,\n      resolveErrors: this.resolveErrors,\n      transformProps: this.transformProps,\n      swapComponent: async ({ component, page, preserveState }) => {\n        this.component = component\n        this.page = page\n        this.key = preserveState ? this.key : Date.now()\n      },\n    })\n  },\n  render(h) {\n    if (this.component) {\n      const child = h(this.component, {\n        key: this.key,\n        props: this.page.props,\n        scopedSlots: this.$scopedSlots,\n      })\n\n      if (this.component.layout) {\n        if (typeof this.component.layout === 'function') {\n          return this.component.layout(h, child)\n        } else if (Array.isArray(this.component.layout)) {\n          return this.component.layout\n            .concat(child)\n            .reverse()\n            .reduce((child, layout) => h(layout, [child]))\n        }\n\n        return h(this.component.layout, [child])\n      }\n\n      return child\n    }\n  },\n  install(Vue) {\n    console.warn('Registering the Inertia Vue plugin via the \"app\" component has been deprecated. Use the new \"plugin\" named export instead.\\n\\nimport { plugin } from \\'@inertiajs/inertia-vue\\'\\n\\nVue.use(plugin)')\n    plugin.install(Vue)\n  },\n}\n\nexport const plugin = {\n  install(Vue) {\n    Inertia.form = form\n    Object.defineProperty(Vue.prototype, '$inertia', { get: () => Inertia })\n    Object.defineProperty(Vue.prototype, '$page', { get: () => app.page })\n    Vue.mixin(remember)\n    Vue.component('InertiaLink', link)\n  },\n}\n"],"names":["args","rememberKey","data","defaults","cloneDeep","restored","Inertia","restore","cancelToken","recentlySuccessfulTimeoutId","transform","form","Vue","observable","errors","hasErrors","processing","progress","wasSuccessful","recentlySuccessful","Object","keys","reduce","carry","key","_this","callback","reset","fields","clonedDefaults","assign","this","length","filter","includes","clearErrors","field","_this2","submit","method","url","options","_options","onCancelToken","token","onBefore","visit","_this3","clearTimeout","onStart","onProgress","event","onBeforeRender","page","resolvedErrors","setTimeout","onCancel","get","post","put","patch","cancel","__rememberable","__remember","__restore","created","$watch","newValue","remember","immediate","deep","functional","props","as","type","String","default","href","required","replace","Boolean","preserveScroll","preserveState","only","Array","headers","render","h","children","on","click","start","finish","success","error","toLowerCase","mergeDataIntoQueryString","hrefToUrl","propsData","console","warn","attrs","shouldIntercept","preventDefault","before","onFinish","onSuccess","onError","$options","isArray","Function","call","rememberable","forEach","hasCallacks","undefined","app","name","initialPage","resolveComponent","resolveErrors","transformProps","component","init","swapComponent","Date","now","child","scopedSlots","$scopedSlots","layout","concat","reverse","install","plugin","defineProperty","prototype","mixin","link"],"mappings":"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"}